from flask import Flask, render_template, abort
import logging

app = Flask(__name__)

# サンプルブログ記事データ
sample_posts = [
    {
        'id': 1,
        'title': '春のヘアスタイルトレンド2025',
        'date': '2025-04-01',
        'summary': '今年の春は、ナチュラルウェーブとパステルカラーが大人気です。当サロンでおすすめのスタイルをご紹介します。',
        'image': 'static/images/placeholder.jpg',
        'content': '''
<p>2025年の春は、自然な美しさとカラフルな表現が融合するヘアスタイルが注目されています。この記事では、当サロンのスタイリストが厳選した春のトレンドスタイルをご紹介します。</p>

<h3>1. エフォートレスウェーブ</h3>
<p>自然な動きを活かした、こなれ感のあるゆるウェーブが今季のトレンドです。朝のスタイリングも簡単で、一日中美しさをキープできます。特に肩上〜ミディアムの長さで取り入れると、女性らしさと軽やかさを両立できるスタイルになります。</p>

<h3>2. パステルカラーのアクセント</h3>
<p>春らしい明るいパステルカラーをポイントで取り入れるスタイルが人気です。全体をカラーリングするのではなく、インナーカラーやハイライトとして取り入れることで、オフィスシーンにも対応できるデザインになります。特にラベンダー、ペールピンク、ミントグリーンなどの色味がおすすめです。</p>

<h3>3. レイヤーボブ</h3>
<p>清潔感と動きを両立したレイヤーボブは、幅広い年齢層に人気のスタイルです。フェイスラインに沿ったカットで小顔効果も期待できます。スタイリングも簡単で、忙しい朝にも最適です。</p>

<h3>4. シースルーバング</h3>
<p>軽やかな印象を与えるシースルーバングは、春の装いにぴったりです。額を適度に見せることで開放感のある表情を作り出します。重すぎない前髪は季節の変わり目にもおすすめのスタイルです。</p>

<h3>5. サステナブルヘアケア</h3>
<p>2025年は髪の健康に焦点を当てたヘアケアも重要なトレンドです。当サロンでは、オーガニック成分を使用したトリートメントで、カラーリングやパーマによるダメージを最小限に抑える施術を提供しています。美しいスタイルを長く楽しむためのヘアケア方法もご案内しています。</p>

<p>トレンドを取り入れつつも、お客様一人ひとりの髪質や顔の形、ライフスタイルに合わせたスタイルをご提案いたします。春の新しいスタイルをお考えの方は、ぜひ当サロンにご相談ください。</p>
        '''
    },
    {
        'id': 2,
        'title': '髪の毛を健康に保つための5つのコツ',
        'date': '2025-03-25',
        'summary': '毎日のケアで髪の毛を美しく保ちましょう。今回は自宅でできる簡単なヘアケアのコツをお伝えします。',
        'image': 'static/images/placeholder.jpg',
        'content': '''
<p>美しい髪を保つためには、日々のケアが欠かせません。この記事では、自宅で簡単にできる効果的なヘアケアのコツを5つご紹介します。</p>

<h3>1. 正しいシャンプー方法</h3>
<p>髪を洗う前にしっかりとブラッシングして、髪の絡まりをほぐしておきましょう。シャンプーの前に髪をぬるま湯でよくすすぎ、汚れを浮かせます。シャンプーは頭皮に直接つけ、指の腹でマッサージするように洗いましょう。すすぎはしっかりと行い、シャンプー剤が残らないようにします。</p>

<h3>2. 適切な頻度でのトリートメント</h3>
<p>週に1〜2回、髪の状態に合わせてトリートメントを行いましょう。特に毛先は乾燥しやすいので、重点的にケアすることをおすすめします。トリートメント後は冷水ですすぐと、キューティクルが引き締まりツヤが出ます。</p>

<h3>3. 正しいブラッシング</h3>
<p>髪が濡れているときは特に傷みやすいので、乾いてからブラッシングすることをおすすめします。毛先から徐々に上に向かってとかすと、髪が絡まることなくスムーズにブラッシングできます。天然毛のブラシや широめの歯のコームを使用すると、髪への負担が少なくなります。</p>

<h3>4. 熱ダメージからの保護</h3>
<p>ドライヤーやヘアアイロンを使用する前には、必ずヒートプロテクト効果のあるスタイリング剤を使用しましょう。また、できるだけ低温で使用し、一か所に熱を当てる時間を短くすることでダメージを軽減できます。週に1回は自然乾燥の日を作るのもおすすめです。</p>

<h3>5. バランスの良い食事と水分摂取</h3>
<p>美しい髪は体の内側からも作られます。タンパク質、ビタミン、ミネラルをバランス良く摂取し、十分な水分補給を心がけましょう。特にビタミンEやオメガ3脂肪酸は髪の健康に欠かせない栄養素です。</p>

<p>これらの基本的なケアを日常に取り入れることで、髪の健康は大きく改善します。ただし、極度の乾燥や傷みが気になる場合は、サロンでのプロフェッショナルなケアもおすすめです。当サロンではお客様の髪質に合わせたカスタムケアメニューもご用意していますので、お気軽にご相談ください。</p>
        '''
    },
    {
        'id': 3,
        'title': 'スタイリスト山田のおすすめ商品',
        'date': '2025-03-15',
        'summary': '当サロンの人気スタイリスト山田が、実際に使っているおすすめの商品をご紹介します。',
        'image': 'static/images/placeholder.jpg',
        'content': '''
<p>こんにちは、スタイリストの山田です。今回は私が実際に愛用している、そしてお客様にも自信を持っておすすめできるヘアケア商品をご紹介します。</p>

<h3>1. モイスチャーシャンプー「ハイドラブリス」</h3>
<p>乾燥が気になる方に特におすすめのシャンプーです。アルガンオイルとシアバターが配合されており、洗浄力はしっかりありながらも、必要な潤いは残してくれます。香りも上品で、バスタイムが癒しの時間になると多くのお客様に好評です。</p>

<h3>2. スカルプエッセンス「ルートリバイブ」</h3>
<p>頭皮環境を整えるための美容液です。ペパーミントとティーツリーの清涼感ある香りで、使用後は頭皮がすっきりとした感覚になります。特に夏場や頭皮の脂分が気になる方に重宝されています。実際に使い始めてから髪のハリやコシが改善したというお声をたくさんいただいています。</p>

<h3>3. 洗い流さないトリートメント「シルクセラム」</h3>
<p>私が最も手放せない商品の一つです。ほんの少量を毛先中心になじませるだけで、指通りが格段に良くなります。シルクプロテインとアルガンオイルが配合されており、熱からの保護効果も高いのでスタイリング前に使用するのがおすすめです。</p>

<h3>4. ヘアオイル「グローミスト」</h3>
<p>スプレータイプのオイルミストで、髪全体に均一に油分を補給できるのが特徴です。重くならず、自然なツヤを演出してくれます。特にカラーリングをされている方の色持ちが良くなるという効果も期待できます。</p>

<h3>5. スタイリングクリーム「フレックスホールド」</h3>
<p>適度なホールド力とナチュラルな仕上がりが特徴のスタイリング剤です。ベタつきがなく、髪に柔らかな動きを与えてくれます。少量でも効果があるので、コスパも良好です。</p>

<p>これらの商品は当サロンでも取り扱っていますので、興味のある方はぜひお試しください。また、お客様一人ひとりの髪質や悩みに合わせたカスタムケアのアドバイスも行っていますので、お気軽にご相談ください。</p>
        '''
    }
]

@app.route('/')
def index():
    return render_template('index.html', posts=sample_posts)

@app.route('/post/<int:post_id>')
def post_detail(post_id):
    # 記事IDに基づいて記事を検索
    post = next((p for p in sample_posts if p['id'] == post_id), None)
    
    # 記事が見つからない場合は404エラー
    if post is None:
        abort(404)
        
    # 記事詳細ページをレンダリング
    return render_template('post_detail.html', post=post, sample_posts=sample_posts)

if __name__ == '__main__':
    app.run(host='127.0.0.1', port=8080, debug=True)